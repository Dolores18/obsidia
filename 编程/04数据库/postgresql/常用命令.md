1.安装
```
sudo apt update   #更新系统包列表
sudo apt install postgresql postgresql-contrib  # apt安装
```


2.切换到默认用户

```
sudo -i -u postgres
psql  # 访问PostgreSQL命令行工具

\! clear  #调用系统清屏指令

\q    #退出psql
exit   #退出这个用户


```
3.创建一个新的用户和数据库

```
sudo -u postgres createuser --interactive   #创建新用户
sudo -u postgres psql #设置密码

ALTER USER your_new_username WITH PASSWORD 'your_password';  #在命令行输入这个指令

sudo -u postgres createdb your_new_username   #创建同名数据库
sudo -u postgres createdb newdatabase   #创建新数据库

```

4.修改PostgreSQL配置

```
vi /etc/postgresql/13/main/postgresql.conf
```

5.从系统登录到postgresql

```
psql -U new_user -d postgres    #从系统命令行登录, 必须在配置修改MD5认证


\c database_name  #切换到数据库




```

6.常用命令
```
\l  #列出所有数据库
\c #database_name: 切换到指定数据库
\dt  #显示当前数据库中的表
\du  #列出所有用户和他们的角色
\q  #退出psql

CREATE DATABASE ai;  #创建数据库
```
7.修改监听端口

```
sudo nano /etc/postgresql/13/main/postgresql.conf  
ss -tunlp | grep postgres   #查看是否生效
```
8. 测试
```
psql -h localhost -p 5433 -U mika -d mika
2401:b60:16:db::
psql -h 2401:b60:16:db:: -p 5433 -U mika -d mika
