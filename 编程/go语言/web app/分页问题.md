1. 如果不分页的话，前端就会非常的臃肿，内存占用也会非常的大。所以必须后端查询大量数据的时候，需要做好分页，分页的逻辑是由dao层来做的，也就是通过查询语句来实现，需要注意返回给前
短的需要有总页数， 页码，条数， 总条数，是否有上一页，是否有下一页。

```sql
SELECT * FROM images 
WHERE user_id = ? 
ORDER BY created_at DESC 
LIMIT 10 OFFSET 20;  -- 获取第3页，每页10条
```
2.前端需要的json
```json
{
    "code": 200,
    "data": {
        "items": [
            // 具体数据数组
            {
                "id": 1,
                "url": "...",
                // ...其他字段
            }
        ],
        "pagination": {
            "current_page": 2,    // 当前页码
            "page_size": 10,      // 每页条数
            "total": 158,         // 总记录数
            "total_pages": 16,    // 总页数
            "has_next": true,     // 是否有下一页
            "has_prev": true      // 是否有上一页
        }
    },
    "message": "success"
}
```
3.前后端交互流程
```
前端                                    后端
  |--- 请求第1页 ----------------------->|
  |                                     |--- 查询总记录数
  |                                     |--- 查询当前页数据
  |<-- 返回数据+分页信息 ----------------|
  |--- 渲染数据和分页控件              
  |--- 用户点击第2页 ------------------>|
  |                                     |--- 使用OFFSET查询数据
  |<-- 返回新数据 ----------------------|
  |--- 更新视图
```
4.注意事项

```
要处理加载状态显示
要处理错误情况
考虑URL参数同步（便于分享和收藏）
考虑缓存策略
考虑移动端适配
防止重复请求


可选优化：


无限滚动加载（移动端常用）
预加载下一页
数据缓存
页码快速跳转
每页条数可选择
Loading骨架屏

```


















