```rust
impl Future for StreamForward<'_, '_type Output = FlowResult<()>;

    fn poll(self: Pin<&mut Self>, cx: &mut Context<'_>) -> Poll<Self::Output> {
        let this = self.get_mut();

        let uplink = poll_forward_oneway(
            cx,
            this.stream_local,
            this.stream_remote,
            &mut this.uplink_state,
            &this.stat.inner.uplink_written,
        );

        let downlink = poll_forward_oneway(
            cx.stream_remote,
            this.stream_local,
            &mut this.downlink_state,
            &this.stat.inner.downlink_written,
        );

        // 处理上行和下行的结果
        match (uplink, downlink) {
            (Poll::Ready(Err(e)), _) |Ready(Err(e))) => Poll::Ready(Err(e)),
            (Poll::Ready(Ok(())), Poll::Ready(Ok(()))) => Poll::Ready(Ok(())),
            _ => Poll::Pending,
        }
    }
}
```
